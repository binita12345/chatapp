<!--
  Generated template for the ChatPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- <ion-header>

  <ion-navbar>
    <ion-title>chat</ion-title>
  </ion-navbar>

</ion-header>
 -->
<header title=""> </header> 
<ion-content class="padding-top" scrollY="true" style="height: 95vh;">
	<!-- <ion-grid>
		<ion-row>
			<ion-col>
				  <ion-label stacked class="lbl">Travel Agent: {{nickname}}</ion-label>
			</ion-col>
		</ion-row>
	</ion-grid>
	<ion-grid class="msggrid">
    	<ion-row *ngFor="let message of messages">
      
	      	<ion-col col-9 *ngIf="message.from !== nickname" class="message" [ngClass]="{'my_message': message.from === nickname, 'other_message': message.from !== nickname}">
		        	<div class="time">{{message.created | date:'dd MMM., hh:MM a'}}</div>
		        	<span class="user_name">{{ message.from }}:</span><br>
		        	<span>{{ message.text }}</span>
	      	</ion-col>
	 
	      	<ion-col offset-3 col-9 *ngIf="message.from === nickname" class="message" [ngClass]="{'my_message': message.from === nickname, 'other_message': message.from !== nickname}">
	      			<div class="time">{{message.created | date:'dd MMM., hh:MM a'}}</div>
			        <span class="user_name">{{ message.from }}:</span><br>
			        <span>{{ message.text }}</span>
	      	</ion-col>
 
    	</ion-row>
  </ion-grid> -->
  <ion-grid class="headuser">
    <ion-row>
      <ion-col col-2 col-xl-2>
          <!-- <ion-icon name="arrow-round-back"></ion-icon> -->
          <img src="assets/imgs/Marqueta/left-arrow.png" style="max-height: 25px;" (click)="goback()">
      </ion-col>
      <ion-col col-8 col-xl-8>
          <ion-label>{{toUser.name}}<br/>{{toUser.status}}</ion-label>
          <!-- <ion-lable>Sarah Jessica</ion-lable> -->
      </ion-col>
      <ion-col col-2 col-xl-2>
          <img src="assets/imgs/Marqueta/phone-receiver.png" style="max-height: 20px;">
      </ion-col>
    </ion-row>
  </ion-grid>
  <div class="message-wrap">
    
    <div *ngFor="let msg of msgList"
         class="message"
         [class.left]=" msg.userId === toUser.id "
         [class.right]=" msg.userId === user.id ">
      <img class="user-img" [src]="msg.userAvatar" alt="" src="">
      <ion-spinner name="dots" *ngIf="msg.status === 'pending'"></ion-spinner>
      <div class="msg-detail">
        <div class="msg-info">
          <p>
            {{msg.userName}}&nbsp;&nbsp;&nbsp;{{msg.time | relativeTime}}</p>
        </div>
        <div class="msg-content">
          <span class="triangle"></span>
          <p class="line-breaker ">{{msg.message}}</p>
        </div>
      </div>
    </div>

  </div>

</ion-content>
<ion-footer class="footer">
  <ion-grid >
    <ion-row>
      <ion-col col-11 col-xl-11>
        <ion-textarea type="text" placeholder="Enviar mansaje..." [(ngModel)]="message" class="textmsg"></ion-textarea>
      </ion-col>
      <ion-col col-1 col-xl-1>
        <img src="assets/imgs/Marqueta/send-button.png" (click)="sendMessage()">
      </ion-col>
    </ion-row>
  </ion-grid>
  
</ion-footer>
<!-- <ion-footer no-border [style.height]="showEmojiPicker ? '255px' : '60px'">
  <div class="input-wrap">
    <button ion-button clear icon-only item-right (click)="switchEmojiPicker()">
      <ion-icon name="md-happy"></ion-icon>
    </button>
    <textarea #chat_input
              placeholder="Text Input"
              [(ngModel)]="editorMsg"
              (keyup.enter)="sendMsg()"
              (focusin)="onFocus()">
    </textarea>
    <button ion-button clear icon-only item-right (click)="sendMsg()">
      <ion-icon name="ios-send" ios="ios-send" md="md-send"></ion-icon>
    </button>
  </div>
  <emoji-picker [(ngModel)]="editorMsg"></emoji-picker>
</ion-footer> -->

<!-- <ion-footer no-border [style.height]="showEmojiPicker ? '255px' : '60px'">
  <ion-toolbar>
    <ion-row class="message_row">
      <ion-col col-9>
          <ion-input type="text" placeholder="Write here..." [(ngModel)]="message" class="sendmsg"></ion-input>
      </ion-col>
      <ion-col col-3>
      	<ion-icon ios="ios-play" md="md-play" (click)="sendMessage()" class="icons"></ion-icon>
      </ion-col>
    </ion-row>
    <emoji-picker [(ngModel)]="editorMsg"></emoji-picker>
  </ion-toolbar>
</ion-footer> -->
